<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Evento - SporTTech</title>
    <link rel="shortcut icon" href="../imgs/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/criar-evento.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <!-- BARRA DE NAVEGAÇÃO -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="index.html" style="text-decoration: none;">
    <div id="logoNavbar" class="nav-logo">
        <img src="../imgs/logo.png" alt="SporTTech Logo">
        <span>SporTTech</span>
    </div>
</a>
            
            <div class="nav-menu">
                <div id="eventosNavbar" class="nav-item">
                    <a href="index.html">Eventos</a>
                </div>
                <div id="eventosProxNavbar" class="nav-item">
                    <a href="index.html#proximos">Próximos de Mim</a>
                </div>
                <div id="criarEventosNavbar" class="nav-item">
                    <a href="criar-evento.html" class="nav-active">Criar Evento</a>
                </div>
                <div id="loginNavbar" class="nav-item">
                    <a href="login.html" class="login-btn">Entrar</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="criar-evento-container">
        <div class="form-header">
            <h1><i class="bi bi-plus-circle"></i> Criar Novo Evento</h1>
            <p>Preencha os dados abaixo para criar seu evento esportivo</p>
        </div>

        <form id="formCriarEvento" action="../php/criarEvento.php" method="POST">
            <!-- Informações Básicas do Evento -->
            <div class="form-section">
                <h2><i class="bi bi-info-circle"></i> Informações Básicas</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="eventoNome">Nome do Evento </label>
                        <input type="text" id="eventoNome" name="nome" class="form-control" placeholder="Ex: Torneio de Futebol Society" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventoEsporte">Modalidade Esportiva </label>
                        <select id="eventoEsporte" name="esporte" class="form-control" required>
                            <option value="">Selecione uma modalidade</option>
                            <option value="Futebol">Futebol</option>
                            <option value="Basquete">Basquete</option>
                            <option value="Vôlei">Vôlei</option>
                            <option value="Corrida">Corrida</option>
                            <option value="Natação">Natação</option>
                            <option value="Tênis">Tênis</option>
                            <option value="Ciclismo">Ciclismo</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="eventoDescricao">Descrição do Evento </label>
                    <textarea id="eventoDescricao" name="descricao" class="form-control" rows="4" placeholder="Descreva detalhes do evento, regras, formato da competição..." required></textarea>
                </div>
            </div>

            <!-- Data e Local -->
            <div class="form-section">
                <h2><i class="bi bi-geo-alt"></i> Data e Local</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="eventoData">Data do Evento </label>
                        <input type="date" id="eventoData" name="data" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventoHora">Horário </label>
                        <input type="time" step="1" id="eventoHora" name="hora" class="form-control" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="eventoLocal">Local </label>
                        <input type="text" id="eventoLocal" name="local" class="form-control" placeholder="Nome do local ou endereço" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventoCidade">Cidade </label>
                        <input type="text" id="eventoCidade" name="cidade" class="form-control" placeholder="São Paulo" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="eventoEndereco">Endereço Completo</label>
                    <input type="text" id="eventoEndereco" name="endereco" class="form-control" placeholder="Rua, número, bairro...">
                </div>

            </div>

            <!-- Configurações do Evento -->
            <div class="form-section">
                <h2><i class="bi bi-gear"></i> Configurações</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="eventoVagas">Número de Vagas </label>
                        <input type="number" id="eventoVagas" name="vagas" class="form-control" min="1" max="1000" placeholder="50" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventoCategoria">Categoria </label>
                        <select id="eventoCategoria" name="categoria" class="form-control" required>
                            <option value="LIVRE">Livre (todas as idades)</option>
                            <option value="12">Sub-12</option>
                            <option value="14">Sub-14</option>
                            <option value="16">Sub-16</option>
                            <option value="18">Sub-18</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="eventoDificuldade">Nível de Dificuldade </label>
                        <select id="eventoDificuldade" name="dificuldade" class="form-control" required>
                            <option value="facil">Iniciante / Fácil</option>
                            <option value="medio">Intermediário / Médio</option>
                            <option value="dificil">Avançado / Difícil</option>
                            <option value="profissional">Profissional</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="eventoValor">Valor da Inscrição (R$)</label>
                        <input type="number" id="eventoValor" name="valor" class="form-control" min="0" step="0.01" placeholder="0,00 (grátis)">
                    </div>
                </div>
            </div>

            <!-- Informações de Contato -->
            <div class="form-section">
                <h2><i class="bi bi-telephone"></i> Contato do Organizador</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="organizadorNome">Nome do Organizador </label>
                        <input type="text" id="organizadorNome" name="organizador_nome" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="organizadorEmail">E-mail </label>
                        <input type="email" id="organizadorEmail" name="organizador_email" class="form-control" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="organizadorTelefone">Telefone </label>
                        <input type="tel" id="organizadorTelefone" name="organizador_telefone" class="form-control" required>
                    </div>
                </div>
            </div>

            <!-- Botões de Ação -->
            <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="window.location.href='index.html'">
                    <i class="bi bi-arrow-left"></i> Cancelar
                </button>
                <button type="submit" class="btn-primary">
                    <i class="bi bi-check-lg"></i> Criar Evento
                </button>
            </div>
        </form>
    </div>

    <!-- RODAPÉ -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <div class="footer-logo">
                    <img src="../imgs/logo.png" alt="SporTTech">
                    <span>SporTTech</span>
                </div>
                <p>Conectando atletas e organizadores através da tecnologia</p>
                <div class="social-links">
                    <a href="#"><i class="bi bi-facebook"></i></a>
                    <a href="#"><i class="bi bi-instagram"></i></a>
                    <a href="#"><i class="bi bi-twitter"></i></a>
                    <a href="#"><i class="bi bi-whatsapp"></i></a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Links Rápidos</h4>
                <ul>
                    <li><a href="index.html">Eventos</a></li>
                    <li><a href="geolocalizacao.html">Próximos de Mim</a></li>
                    <li><a href="criar-evento.html">Criar Evento</a></li>
                    <li><a href="sobre.html">Sobre Nós</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Modalidades</h4>
                <ul>
                    <li><a href="futebol.html">Futebol</a></li>
                    <li><a href="corrida.html">Corrida</a></li>
                    <li><a href="basquete.html">Basquete</a></li>
                    <li><a href="volei.html">Vôlei</a></li>
                    <li><a href="todos.html">Ver Todos</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Contato</h4>
                <ul>
                    <li><i class="bi bi-envelope"></i> contato@sporttech.com</li>
                    <li><i class="bi bi-phone"></i> (11) 97791-5992</li>
                    <li><i class="bi bi-geo-alt"></i> São Paulo, SP</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 SporTTech. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="../js/criar-evento.js"></script>
    <script src="../js/usuarioLogado.js"></script>
<script>
    fetch("../php/status_login.php")
    .then(res => res.json())
    .then(data => {

        if (data.tipo_user == "user") {
            Swal.fire({
                icon: 'error',
                title: 'Criação de evento',
                text: 'Você está cadastrado como atleta! Não é possível criar um evento',
                confirmButtonText: 'Ok'

            }).then((result) => {
                if(result.isConfirmed){
                    window.location.href = "../html/login.html";
                }
            });
        
        } else if (data.tipo_user == "institution") {
            
            atualizarNavbar();
            
        } else {
            
            atualizarNavbar();
        }

    })
    .catch(err => console.error("Erro:", err)); 

</script>
</body>
</html>