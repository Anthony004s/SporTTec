<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - SporTTech</title>
    <link rel="shortcut icon" href="../imgs/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!--Caixas de mensagens personalizas-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <nav id="navbar">
        <div class="nav-container">
            <a href="index.html" style="text-decoration: none;">
    <div id="logoNavbar" class="nav-logo">
        <img src="../imgs/logo.png" alt="SporTTech Logo">
        <span>SporTTech</span>
    </div>
</a>

            <div class="nav-menu">
                <div id="eventosNavbar" class="nav-item">
                    <a href="index.html">Eventos</a>
                </div>
                <div id="eventosProxNavbar" class="nav-item">
                    <a href="index.html">Próximos de Mim</a>
                </div>
                 <div id="criarEventosNavbar" class="nav-item">
                    <a href="criar-evento.html">Criar Evento</a>
            </div>
            <div id="loginNavbar" class="nav-item">
                    <a href="login.html" class="login-btn">Entrar</a>
                </div>
        </div>
    </nav>

    <div class="auth-container">
        <div class="auth-info">
            <h1>Faça parte da comunidade SporTTech</h1>
            <p>Conecte-se com outros atletas, participe de eventos esportivos perto de você ou organize suas próprias competições.</p>

            <ul class="features-list">
                <li><i class="bi bi-geo-alt-fill"></i> Encontre eventos próximos à sua localização</li>
                <li><i class="bi bi-calendar-check"></i> Participe de competições de diversas modalidades</li>
                <li><i class="bi bi-people-fill"></i> Conecte-se com outros entusiastas do esporte</li>
                <li><i class="bi bi-geo-trophy"></i> Organize e gerencie seus próprios eventos</li>
                <li><i class="bi bi-bell-fill"></i> Receba notificações sobre eventos do seu interesse</li>
            </ul>
        </div>

        <div class="auth-forms">
             <div class="form-header">
                <h2>Bem-vindo de volta!</h2>
                <p>Entre na sua conta para continuar</p>
            </div>
            
            <div class="toggle-buttons">
                <button class="toggle-btn active" id="loginToggle">Entrar</button>
                <button class="toggle-btn" id="registerToggle">Cadastrar</button>
            </div>
            
            <!-- Formulário de Login -->
            <div class="form-content active" id="loginForm">
                <div class="user-type-selector">
                    <div class="user-type-btn active" data-type="user">Atleta</div>
                    <div class="user-type-btn" data-type="institution">Instituição</div>
                </div>
                
                <form id="loginUserForm" action="../php/login.php" method="POST">
                    <input type="hidden" name="action" value="login">
                    <input type="hidden" name="user_type" id="loginUserType" value="user">
                    
                    <div class="form-group">
                        <label for="loginEmail">E-mail</label>
                        <input type="email" class="form-control" id="loginEmail" name="email" placeholder="seu@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Senha</label>
                        <div class="password-container">
                            <input type="password" class="form-control" id="loginPassword" name="password" placeholder="Sua senha" required>
                            <button type="button" class="toggle-password" id="toggleLoginPassword">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn-primary">Entrar</button>
                    </div>
                    
                    <div class="form-footer">
                        <a href="#" id="forgotPassword">Esqueceu sua senha?</a>
                    </div>
                </form>
                
                <div class="form-divider">
                    <span>ou</span>
                </div>
                
                <div class="social-login">
                    <button class="social-btn">
                        <i class="bi bi-google"></i> Google
                    </button>
                    <button class="social-btn">
                        <i class="bi bi-facebook"></i> Facebook
                    </button>
                </div>
            </div>
            
            <!-- Formulário de Cadastro -->
            <div class="form-content" id="registerForm">
                <div class="user-type-selector">
                    <div class="user-type-btn active" data-type="user">Atleta</div>
                    <div class="user-type-btn" data-type="institution">Instituição</div>
                </div>
                
                <!-- Formulário de Cadastro para Atleta -->
                <form id="registerUserForm" class="user-form active" action="../php/criarContaAtleta.php" method="POST">
                    <input type="hidden" name="action" value="register">
                    <input type="hidden" name="user_type" value="user">
                    
                    <div class="form-group">
                        <label for="userName">Nome Completo</label>
                        <input type="text" class="form-control" id="userName" name="nome" placeholder="Seu nome completo" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="userEmail">E-mail</label>
                        <input type="email" class="form-control" id="userEmail" name="email" placeholder="seu@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="userCPF">CPF</label>
                        <input type="text" class="form-control" id="userCPF" name="cpf" placeholder="000.000.000-00" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="userPhone">Telefone</label>
                        <input type="tel" class="form-control" id="userPhone" name="telefone" placeholder="(11) 99999-9999" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="userBirthDate">Data de Nascimento</label>
                        <input type="date" class="form-control" id="userBirthDate" name="dataNasc" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="userGender">Gênero</label>
                        <select class="form-control" id="userGender" name="sexo" required>
                            <option value="">Selecione</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Feminino">Feminino</option>
                             <option value="Feminino">Prefiro não informar</option>
                              <option value="Feminino">Outros(a)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="userPassword">Senha</label>
                        <div class="password-container">
                            <input type="password" class="form-control" id="userPassword" name="password" placeholder="Crie uma senha" required>
                            <button type="button" class="toggle-password" id="toggleUserPassword">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="userConfirmPassword">Confirmar Senha</label>
                        <div class="password-container">
                            <input type="password" class="form-control" id="userConfirmPassword" name="confirm_password" placeholder="Confirme sua senha" required>
                            <button type="button" class="toggle-password" id="toggleUserConfirmPassword">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn-primary">Criar Conta</button>
                    </div>
                </form>
                
                <!-- Formulário de Cadastro para Instituição -->
                <form id="registerInstitutionForm" class="user-form" action="../php/criarContaInstituicao.php" method="POST">
                    <input type="hidden" name="action" value="register">
                    <input type="hidden" name="user_type" value="institution">
                    
                    <div class="form-group">
                        <label for="institutionName">Razão Social</label>
                        <input type="text" class="form-control" id="institutionName" name="razaosocial" placeholder="Nome da instituição" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="institutionCNPJ">CNPJ</label>
                        <input type="text" class="form-control" id="institutionCNPJ" name="cnpj" placeholder="00.000.000/0000-00" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="institutionEmail">E-mail</label>
                        <input type="email" class="form-control" id="institutionEmail" name="email" placeholder="contato@instituicao.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="institutionPhone">Telefone</label>
                        <input type="tel" class="form-control" id="institutionPhone" name="telefone" placeholder="(11) 99999-9999" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="institutionSport">Esporte Principal</label>
                        <select class="form-control" id="institutionSport" name="esporte" required>
                            <option value="">Selecione</option>
                            <option value="Futebol">Futebol</option>
                            <option value="Basquete">Basquete</option>
                            <option value="Vôlei">Vôlei</option>
                            <option value="Corrida">Corrida</option>
                            <option value="Natação">Natação</option>
                            <option value="Tênis">Tênis</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="institutionPassword">Senha</label>
                        <div class="password-container">
                            <input type="password" class="form-control" id="institutionPassword" name="password" placeholder="Crie uma senha" required>
                            <button type="button" class="toggle-password" id="toggleInstitutionPassword">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="institutionConfirmPassword">Confirmar Senha</label>
                        <div class="password-container">
                            <input type="password" class="form-control" id="institutionConfirmPassword" name="confirm_password" placeholder="Confirme sua senha" required>
                            <button type="button" class="toggle-password" id="toggleInstitutionConfirmPassword">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn-primary">Criar Conta</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- RODAPÉ -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <div class="footer-logo">
                    <img src="../imgs/logo.png" alt="SporTTech">
                    <span>SporTTech</span>
                </div>
                <p>Conectando atletas e organizadores através da tecnologia</p>
                <div class="social-links">
                    <a href="#"><i class="bi bi-facebook"></i></a>
                    <a href="#"><i class="bi bi-instagram"></i></a>
                    <a href="#"><i class="bi bi-twitter"></i></a>
                    <a href="#"><i class="bi bi-whatsapp"></i></a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Links Rápidos</h4>
                <ul>
                    <li><a href="index.html">Eventos</a></li>
                    <li><a href="geolocalizacao.html">Próximos de Mim</a></li>
                    <li><a href="criar-evento.html">Criar Evento</a></li>
                    <li><a href="sobre.html">Sobre Nós</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Modalidades</h4>
                <ul>
                    <li><a href="futebol.html">Futebol</a></li>
                    <li><a href="corrida.html">Corrida</a></li>
                    <li><a href="basquete.html">Basquete</a></li>
                    <li><a href="volei.html">Vôlei</a></li>
                    <li><a href="todos.html">Ver Todos</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Contato</h4>
                <ul>
                    <li><i class="bi bi-envelope"></i> contato@sporttech.com</li>
                    <li><i class="bi bi-phone"></i> (11) 97791-5992</li>
                    <li><i class="bi bi-geo-alt"></i> São Paulo, SP</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 SporTTech. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="../js/login.js"></script>
    <script src="../js/usuarioLogado.js"></script>
    <!--Esse é o código que mostra se o acesso foi liberado ou negado!-->
    <script>
        const params = new URLSearchParams(window.location.search);

        if (params.get("cadastrado") === "true")
        {
            Swal.fire({
                icon: 'error',
                title: 'Login',
                text: 'Usuário já cadastrado!',
                confirmButtonText: 'Ok'

            }).then((result) => {
                if(result.isConfirmed){
                    window.location.href = "../html/login.html";
                }

            });
        }

        if (params.get("login") === "true") {
            Swal.fire({
                icon: 'success',
                title: 'Login',
                text: 'Login concebido com sucesso!',
                confirmButtonText: 'Ok'

            }).then((result) => {
                if(result.isConfirmed){
                    window.location.href = "../html/index.html";
                }

            });
        }
        if (params.get("login") === "false") {
            Swal.fire({
                icon: 'error',
                title: 'Login',
                text: 'Login negado! O email ou senha está errado.',
                confirmButtonText: 'Ok'
            })
        }
    </script>
</body>
</html>